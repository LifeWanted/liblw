language: c++
compiler:
    - gcc
os:
    - linux
addons:
    apt:
        sources:
            - ubuntu-toolchain-r-test
        packages:
            - binutils
            - gcc-4.9
            - g++-4.9
            - lcov
install:
    - export PATH=$HOME/.local/bin:$PATH
    - pip install cpp-coveralls --user `whoami`
    - ./setup.sh --coverage
script:
    - cd build
    - make -j2 liblw-tests
    - Debug/liblw-tests
after_success:
    - coveralls --exclude tests -E '.*/external/.*\.c\w*' --gcov gcov-4.9 --gcov-options '\-lp'
